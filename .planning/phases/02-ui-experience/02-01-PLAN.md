---
phase: 02-ui-experience
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/main.tsx
  - src/App.tsx
  - src/components/DebateDashboard.tsx
  - src/components/SpeakerIndicator.tsx
  - src/components/TimerDisplay.tsx
  - src/components/SpeakerCard.tsx
  - src/styles/speaker-colors.css
  - index.html
autonomous: true

must_haves:
  truths:
    - "User sees current speaker name and role prominently displayed"
    - "User sees countdown timer with minutes:seconds format"
    - "Each speaker role has a distinct, recognizable color"
    - "Timer updates every second during active debate"
  artifacts:
    - path: "src/App.tsx"
      provides: "Main application entry with debate dashboard"
      min_lines: 20
    - path: "src/components/DebateDashboard.tsx"
      provides: "Main dashboard layout integrating speaker and timer"
      exports: ["DebateDashboard"]
    - path: "src/components/SpeakerIndicator.tsx"
      provides: "Current speaker display component"
      exports: ["SpeakerIndicator"]
    - path: "src/components/TimerDisplay.tsx"
      provides: "Countdown timer component with formatting"
      exports: ["TimerDisplay"]
    - path: "src/components/SpeakerCard.tsx"
      provides: "Styled card component for speaker content"
      exports: ["SpeakerCard"]
  key_links:
    - from: "src/components/DebateDashboard.tsx"
      to: "src/store/debateStore.ts"
      via: "useDebateStore hook"
      pattern: "useDebateStore"
    - from: "src/components/TimerDisplay.tsx"
      to: "src/hooks/useDebateTimer.ts"
      via: "useDebateTimer hook or store subscription"
      pattern: "useDebateTimer|timeRemaining"
---

<objective>
Create the foundational UI components for the debate simulator dashboard, including app entry point, speaker indicator, timer display, and role-colored speaker cards.

Purpose: Establishes the visual foundation for all debate UI, satisfying UI-01 (speaker/time display) and UI-02 (distinct styling per role).
Output: Working React application with dashboard showing current speaker, timer, and role-differentiated styling.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-core-mechanics/01-03-SUMMARY.md

# Existing source files to integrate with
@src/types/debate.ts
@src/store/debateStore.ts
@src/hooks/useDebateTimer.ts
@src/lib/constants.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create React App Entry Point and Base Structure</name>
  <files>
    - src/main.tsx
    - src/App.tsx
    - index.html
  </files>
  <action>
    Create the React application entry point with Vite structure:
    
    1. **index.html**: Basic HTML with root div, title "CPDL Debate Simulator", and proper meta tags
    
    2. **src/main.tsx**: 
       - Import React, ReactDOM
       - Import App component
       - Import global styles (Tailwind)
       - Render App to root element using createRoot
    
    3. **src/App.tsx**:
       - Import DebateDashboard (create stub initially)
       - Return main layout with:
         - Header with app title "CPDL Debate Simulator"
         - Main content area for DebateDashboard
         - Use Tailwind classes for basic layout (min-h-screen, bg-gray-100)
    
    Use Tailwind CSS classes for all styling. Do NOT import any CSS files that don't exist yet.
    Create a stub DebateDashboard component inline initially that just returns a placeholder div.
  </action>
  <verify>
    Run `npm run dev` and verify:
    - App loads without errors in browser
    - Title "CPDL Debate Simulator" visible
    - Basic layout renders with placeholder content
  </verify>
  <done>
    React app bootstrapped with Vite, main layout visible, ready for component integration.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Speaker Indicator and Timer Display Components</name>
  <files>
    - src/components/SpeakerIndicator.tsx
    - src/components/TimerDisplay.tsx
    - src/components/DebateDashboard.tsx
  </files>
  <action>
    Create the core dashboard components that satisfy UI-01:
    
    1. **src/components/SpeakerIndicator.tsx**:
       - Props: { speaker: SpeakerRole | null, speakerName?: string }
       - Display current speaker role prominently (large text, centered)
       - Show role description from ROLE_DESCRIPTIONS constant
       - Show "Waiting to start..." when speaker is null
       - Use role-specific background color:
         - PM: blue-500
         - LO: red-500  
         - MO: orange-500
         - PW: green-500
       - Use white text on colored background
       - Add rounded corners and padding
    
    2. **src/components/TimerDisplay.tsx**:
       - Props: { timeRemaining: number, isRunning: boolean }
       - Display time in MM:SS format (use same logic as formatTime in useDebateTimer)
       - Large, monospace font for readability
       - Visual urgency indicators:
         - Normal (>60s): text-gray-800
         - Warning (30-60s): text-yellow-600, pulse animation
         - Critical (<30s): text-red-600, faster pulse
       - Show "PAUSED" indicator when isRunning is false and time > 0
    
    3. **src/components/DebateDashboard.tsx**:
       - Import and use useDebateStore to get currentSpeaker, timeRemaining, status
       - Layout: flex column with gap
       - Top section: SpeakerIndicator
       - Below: TimerDisplay
       - Centered in viewport with max-width container
       - Pass store values to child components
    
    Update App.tsx to import the real DebateDashboard component.
  </action>
  <verify>
    Run `npm run dev`:
    - SpeakerIndicator shows "Waiting to start..." (idle state)
    - TimerDisplay shows "00:00"
    - Components render without TypeScript errors
    - Run `npx tsc --noEmit` for type checking
  </verify>
  <done>
    Dashboard displays current speaker and remaining time clearly (UI-01 complete).
    Components connected to Zustand store for state.
  </done>
</task>

<task type="auto">
  <name>Task 3: Create Role-Colored Speaker Card Component</name>
  <files>
    - src/components/SpeakerCard.tsx
    - src/styles/speaker-colors.css
  </files>
  <action>
    Create the SpeakerCard component with distinct role styling (UI-02):
    
    1. **src/styles/speaker-colors.css**:
       Define CSS custom properties and classes for each role:
       ```css
       :root {
         --color-pm: #3B82F6;      /* Blue */
         --color-pm-light: #DBEAFE;
         --color-lo: #EF4444;      /* Red */
         --color-lo-light: #FEE2E2;
         --color-mo: #F97316;      /* Orange */
         --color-mo-light: #FFEDD5;
         --color-pw: #22C55E;      /* Green */
         --color-pw-light: #DCFCE7;
       }
       
       .speaker-card-pm { border-left: 4px solid var(--color-pm); background: var(--color-pm-light); }
       .speaker-card-lo { border-left: 4px solid var(--color-lo); background: var(--color-lo-light); }
       .speaker-card-mo { border-left: 4px solid var(--color-mo); background: var(--color-mo-light); }
       .speaker-card-pw { border-left: 4px solid var(--color-pw); background: var(--color-pw-light); }
       ```
    
    2. **src/components/SpeakerCard.tsx**:
       - Props: { role: SpeakerRole, content: string, timestamp?: Date, type?: 'speech' | 'poi-request' | 'poi-response' | 'transition' }
       - Apply role-specific CSS class (speaker-card-{role.toLowerCase()})
       - Display speaker role badge in role color
       - Display content text with proper typography
       - Optional timestamp display (formatted time)
       - POI entries should have distinct styling (italic, smaller)
       - Transition entries should be muted (gray, centered)
       - Add subtle shadow and rounded corners
    
    3. Import speaker-colors.css in main.tsx
    
    4. Update DebateDashboard.tsx:
       - Import SpeakerCard
       - Add a section below timer showing transcript entries
       - Map transcript from store to SpeakerCard components
       - Scroll container for transcript with max-height
  </action>
  <verify>
    Run `npm run dev`:
    - Each role has distinct, identifiable colors
    - PM (blue), LO (red), MO (orange), PW (green) all visually distinct
    - Run `npx tsc --noEmit` - no TypeScript errors
    - Visual inspection confirms color contrast is accessible
  </verify>
  <done>
    Each debater's text displayed with distinct styling/colors (UI-02 complete).
    SpeakerCard component ready for transcript display.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run dev` starts without errors
2. Dashboard shows speaker indicator and timer
3. Each role (PM, LO, MO, PW) has distinct color
4. Components properly connected to Zustand store
5. TypeScript compilation passes: `npx tsc --noEmit`
</verification>

<success_criteria>
- UI-01: Dashboard displays current speaker and remaining time clearly
- UI-02: Each debater has distinct styling/colors for easy identification
- Components properly typed with TypeScript
- Store integration working (can read currentSpeaker, timeRemaining, transcript)
- App runs without console errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-ui-experience/02-01-SUMMARY.md`
</output>
